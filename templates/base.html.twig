<!DOCTYPE html>
<html lang="fr" class="notranslate" translate="no">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}EcoDevLab - Symfony{% endblock %}</title>
    <meta name="description" content="{% block meta_description %}Application Symfony Ã©co-responsable et minimaliste{% endblock %}" />
    <meta name="theme-color" content="#064e3b" />

    {# ğŸŒ— ThÃ¨me instantanÃ© sans flash #}
    <script>
      (() => {
        const savedTheme = localStorage.getItem("theme");
        const systemDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        const theme = savedTheme ?? (systemDark ? "dark" : "light");
        if (theme === "dark") document.documentElement.classList.add("dark");
      })();
    </script>
    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
    {% endblock %}
  </head>
  <body class="min-h-screen antialiased">
    <header class="header">
      <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 nav-section-container">
        {# ğŸŒ± Nom du site Ã  gauche #}
        <a href="{{ path('app_home') }}" class="nav-brand">
          ğŸŒ¿ EcoDevLab
        </a>
        {# ğŸŒ Menu + toggle Ã  droite #}
        <div class="flex items-center space-x-6">
          <ul class="nav-desktop">
            <li><a href="{{ path('app_home') }}">Accueil</a></li>
            <li><a href="{{ path('about') }}">Ã€ propos</a></li>
            <li><a href="{{ path('app_task_list_index') }}">ToDoList</a></li>
            <li><a href="{{ path('contact') }}">Contact</a></li>
          </ul>
          {# â˜€ï¸ğŸŒ™ Bouton thÃ¨me #}
          <button id="theme-toggle" aria-label="Basculer le thÃ¨me" class="theme-toggle">
            <svg id="icon-sun" class="absolute w-6 h-6 text-yellow-400 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
              <circle cx="12" cy="12" r="4" fill="currentColor" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
            </svg>
            <svg id="icon-moon" class="absolute w-6 h-6 text-gray-200 hidden" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M21.75 15.002A9 9 0 0112 3a9.003 9.003 0 000 18 9 9 0 009.75-5.998z" />
            </svg>
          </button>
          {# ğŸ” Menu mobile #}
          <button id="menu-toggle" class="nav-mobile-toggler">
            <svg id="icon-open" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <svg id="icon-close" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </nav>
      {# Utilise la classe .nav-mobile-dropdown, en gardant 'hidden' pour la gestion JavaScript. J'ai ajoutÃ© dark:bg-green-900 Ã  la suite pour garantir le mode sombre. #}
      <nav id="mobile-menu" class="hidden nav-mobile-dropdown dark:bg-green-900">
        <ul class="nav-mobile-list">
          <li><a href="{{ path('app_home') }}" class="nav-mobile-link">Accueil</a></li>
          <li><a href="{{ path('about') }}" class="nav-mobile-link">Ã€ propos</a></li>
          <li><a href="{{ path('app_task_list_index') }}" class="nav-mobile-link">ToDoList</a></li>
          <li><a href="{{ path('contact') }}" class="nav-mobile-link">Contact</a></li>
        </ul>
      </nav>
    </header>
    <main class="main-content-wrapper">{% block body %}{% endblock %}</main>
    <footer class="footer">
      <p>&copy; EcoDevLab - {{ "now"|date("Y") }}</p>
    </footer>
    {% block javascripts %}
      {{ encore_entry_script_tags('app') }}
    {% endblock %}
  </body>
</html>